<!-- order.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Details</title>
</head>
<body>
    <h1>Order Details</h1>
    <div id="order-details">
        <p id="order-id"></p>
        <p id="order-status"></p>
        <input type="text" id="order-note" placeholder="Add notes" disabled>
        <button id="save-button" disabled>Save Changes</button>
    </div>

    <script>
        // Function to fetch order data (mock function, replace with actual database fetch)
        function getOrderData(orderId) {
            const orders = [
                { id: 1, name: "Order 1", status: "Not Processed" },
                { id: 2, name: "Order 2", status: "Processed" },
                { id: 3, name: "Order 3", status: "Not Processed" }
            ];
            return orders.find(order => order.id === parseInt(orderId));
        }

        // Read the orderId from the URL
        const urlParams = new URLSearchParams(window.location.search);
        const orderId = urlParams.get('orderId');
        
        if (orderId) {
            // Fetch and display the order details
            const order = getOrderData(orderId);
            if (order) {
                document.getElementById("order-id").textContent = `Order ID: ${order.id}`;
                document.getElementById("order-status").textContent = `Status: ${order.status}`;
                
                // Enable editing if the order is not processed
                if (order.status === "Not Processed") {
                    document.getElementById("order-note").disabled = false;
                    document.getElementById("save-button").disabled = false;
                }
            } else {
                alert("Order not found");
            }
        } else {
            alert("No order ID specified");
        }
    </script>
</body>
</html>
