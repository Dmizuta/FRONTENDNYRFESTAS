<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedidos - NYR Festas</title>
    <link rel="stylesheet" href="styles.css">
    <script src="scripts/loadComponents.js" defer></script>



    

</head>
<body>
    <header>
        <h1>NYR Festas</h1>


        <div id="user-info">
            <span id="username-display"></span>
            <button id="logoutBtn">Logout</button>
        </div>


    </header>

    <nav>
        <ul>
            <li><a href="cadastro.html">Cadastro</a></li>
            <li><a href="produtos.html">Lista de Produtos</a></li>
            <li><a href="pedidos.html">Pedidos</a></li>
        </ul>
    </nav>
   
    



    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Pedidos Page</title>
      <style>
        body {
          font-family: Arial, sans-serif;
          margin: 0;
          padding: 20px;
        }
        .order-row {
          display: flex;
          justify-content: space-between;
          padding: 10px;
          margin: 10px 0;
          border: 1px solid #ccc;
        }
        .order-row button {
          background-color: #007BFF;
          color: white;
          border: none;
          padding: 5px 10px;
          cursor: pointer;
        }
        .modal {
          display: none;
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
          justify-content: center;
          align-items: center;
        }
        .modal-content {
          background-color: white;
          padding: 20px;
          border-radius: 5px;
          width: 70%;
          overflow-y: auto;
        }
        .modal-header {
          font-size: 18px;
          margin-bottom: 15px;
        }
        table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 20px;
        }
        table th, table td {
          padding: 10px;
          border: 1px solid #ccc;
          text-align: left;
        }
        .delete-btn {
          background-color: red;
          color: white;
          border: none;
          padding: 5px 10px;
          cursor: pointer;
        }
        .submit-btn {
          background-color: green;
          color: white;
          border: none;
          padding: 5px 10px;
          cursor: pointer;
        }
      </style>
    </head>
    <body>
    
      <h1>Pedidos</h1>
    
      <div id="orders-container">
        <!-- Example of an order row -->
        <div class="order-row">
          <div>Order ID: 123</div>
          <div>Razão Social: Example Corp</div>
          <div>Data: 2024-12-15</div>
          <div>Total: $150.00</div>
          <div>Status: Draft</div>
          <button class="details-btn" onclick="openOrderDetailsModal(123)">Details</button>
        </div>
    
        <div class="order-row">
          <div>Order ID: 124</div>
          <div>Razão Social: Another Corp</div>
          <div>Data: 2024-12-16</div>
          <div>Total: $200.00</div>
          <div>Status: Submitted</div>
          <button class="details-btn" onclick="openOrderDetailsModal(124)">Details</button>
        </div>
      </div>
    
      <!-- Modal for order details -->
      <div id="order-details-modal" class="modal">
        <div class="modal-content">
          <div class="modal-header">
            <h3>Order Details</h3>
            <p>Order ID: <span id="order-id">123</span></p>
            <p>Representante: John Doe</p>
            <p>Razão Social: Example Corp</p>
            <p>CNPJ: 00.000.000/0001-00</p>
            <p>Contato: john.doe@example.com</p>
          </div>
    
          <table id="product-table">
            <thead>
              <tr>
                <th>CodProduto</th>
                <th>Description</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>Total</th>
                <th>Delete</th>
              </tr>
            </thead>
            <tbody>
              <!-- Example Product Row -->
              <tr>
                <td>001</td>
                <td>Product A</td>
                <td>2</td>
                <td>$50.00</td>
                <td>$100.00</td>
                <td><input type="checkbox" class="delete-checkbox" data-id="1"></td>
              </tr>
    
              <tr>
                <td>002</td>
                <td>Product B</td>
                <td>1</td>
                <td>$50.00</td>
                <td>$50.00</td>
                <td><input type="checkbox" class="delete-checkbox" data-id="2"></td>
              </tr>
            </tbody>
          </table>
    
          <button id="delete-selected-products" class="delete-btn" onclick="deleteSelectedProducts()">Delete Selected Products</button>
          <button id="submit-order-btn" class="submit-btn" onclick="submitOrder()">Submit Order</button>
    
          <button onclick="closeModal()">Close</button>
        </div>
      </div>
    
      <script>
        function openOrderDetailsModal(orderId) {
          // Example: Populate modal content with static data (can be replaced with dynamic data later)
          document.getElementById('order-id').textContent = orderId;
    
          // Show the modal
          document.getElementById('order-details-modal').style.display = 'flex';
        }
    
        function closeModal() {
          // Hide the modal
          document.getElementById('order-details-modal').style.display = 'none';
        }
    
        function deleteSelectedProducts() {
          // Get all checked checkboxes
          const selectedCheckboxes = document.querySelectorAll('.delete-checkbox:checked');
    
          selectedCheckboxes.forEach(checkbox => {
            const productId = checkbox.dataset.id;
            console.log(`Deleting product with ID: ${productId}`);
            // Here you can implement product deletion logic (without backend interaction, it's just for simulation)
            checkbox.closest('tr').remove(); // Remove the product row from the table
          });
        }
    
        function submitOrder() {
          const orderId = document.getElementById('order-id').textContent;
          console.log(`Submitting order with ID: ${orderId}`);
          // Here you can implement order submission logic (for now, just logging)
          alert('Order submitted successfully!');
          closeModal();
        }
      </script>
    
    </body>
    </html>
    

<!--

    
    <section class="pagina">
        <h2>Pedidos</h2>
        <table>
            <thead>
                <tr>
                    <th>Pedido</th>
                    <th>Valor</th>
                    <th>Status</th>
                </tr>
                
            </thead>
            <tbody>
                
                 <tr>
                    <td><a href="pedido-especifico.html">Pedido 00001</a></td>
                    <td>R$ 100,00</td>
                    <td>Em andamento</td>
                </tr>
            </tbody>
        </table>
    </section>
-->
   
<script>



















         // Handle login status
         const username = localStorage.getItem('username');
        if (username) {
            document.getElementById('username-display').textContent = `Bem-vindo, ${username}`;
        } else {
            alert("Você precisa estar logado para acessar esta página!");
            window.location.href = '/';
        }
// Logout function
document.getElementById('logoutBtn').addEventListener('click', function() {
localStorage.removeItem('username');  // Remove login data
window.location.href = '/';  // Redirect to login page
});

  </script>
</body>





</html>
